# /workspace/yolo/ultralytics/cfg/new/hyp_advanced_500.yaml
# 中文说明：面向“YOLO-SOD-Advanced”的 500 epoch 超参。
# 关键点：AdamW + 更低 lr0；延长 warmup；提升 cls_gain；引入 nwd_gain；减弱 mosaic/mixup。

# ---------- 优化器与学习率 ----------
optimizer: AdamW
lr0: 0.001          # 初始学习率（复杂模块更稳）
lrf: 0.01           # 最终学习率系数
momentum: 0.9       # 用作 AdamW 的 beta1
weight_decay: 0.0005

# ---------- 预热 ----------
warmup_epochs: 5.0
warmup_momentum: 0.8
warmup_bias_lr: 0.1

# ---------- 损失权重 ----------
box: 2.5            # CIoU（辅助项）
cls: 0.5            # 提升分类权重（RFLA 已缓解样本不均）
dfl: 1.5
nwd: 5.0            # NWD 主导定位损失

# ---------- 数据增强（小目标友好） ----------
hsv_h: 0.015
hsv_s: 0.7
hsv_v: 0.4
degrees: 0.0
translate: 0.1
scale: 0.5
shear: 0.0
perspective: 0.0
flipud: 0.0
fliplr: 0.5
mosaic: 0.8         # 略降，避免过度破坏微小目标
mixup: 0.0          # 关闭，防止小目标被扰乱
copy_paste: 0.0
